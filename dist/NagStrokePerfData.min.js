define(["snmd-core/SVGWidget"],function(t){"use strict";var s=function(s,a,e){this.opts={desc:e,cls:t.srClassOpts(e,"StrokeWidth")},this.desc=e,"undefined"==typeof this.desc.width?this.opts.width=[1,32]:this.opts.width=this.desc.width,"undefined"==typeof e.keys?this.opts.keys=[e.key]:this.opts.keys=e.keys,"undefined"==typeof e.factors?this.opts.factors=[]:this.opts.factors=e.factors,"undefined"!=typeof e.factor?(this.opts.factor=parseFloat(e.factor),isNaN(this.opts.factor)&&(this.opts.factor=1)):this.opts.factor=1,"undefined"!=typeof e.max?(this.opts.max=parseFloat(e.max),isNaN(this.opts.max)&&(this.opts.max=100)):this.opts.max=100,"undefined"!=typeof e.scale?this.opts.scale=e.scale:this.opts.scale="linear",this.opts.abs=!1,"undefined"!=typeof e.abs&&e.abs&&(this.opts.abs=!0),this.last={},this.factors={};var o;for(o=0;o<e.topics.length;o++)this.last[e.topics[o]]=[],"undefined"==typeof this.opts.factors[o]?this.factors[e.topics[o]]=this.opts.factor:this.factors[e.topics[o]]=this.opts.factors[o];this.chart=new(t.srLookupImpl("StrokeWidth"))(s,a,this.opts)};return s.prototype.handleUpdate=function(t,s){var a;try{a=JSON.parse(s)}catch(t){return void console.error("JSON error in performance data: "+t.message)}this.last[t].val=0;try{var e;for(e=0;e<this.opts.keys.length;e++)"undefined"!=typeof a.perf_data[this.opts.keys[e]]&&(this.last[t].val+=parseFloat(a.perf_data[this.opts.keys[e]].val)*this.factors[t])}catch(s){console.err("Error to process performance data ["+t+"]: "+s.message)}try{this.last[t].state=a.state}catch(s){console.err("Error to process state data ["+t+"]: "+s.message)}var o,i=0,r=0;for(o in this.last){var h=parseFloat(this.last[o].val);isNaN(h)&&(h=0),i+=h,r=Math.max(r,this.last[o].state)}this.chart.update(i,r)},t.srRegisterWidget("NagStrokePerfData",s),s});
//# sourceMappingURL=dist/NagStrokePerfData.min.map