define(["snmd-core/SVGWidget"],function(t){"use strict";var s=function(s,a,e){this.opts={axis:[{max:2e8,scale:"linear"}],desc:e,dpi:.2,cls:t.srClassOpts(e,"Chart"),lcls:["snmd-lcl-Nag","snmd-lcl-NagIf","snmd-lcl-NagIfBw"],mcls:["snmd-mcl-Nag","snmd-mcl-NagIf","snmd-mcl-NagIfBw"],tcls:["snmd-tcl-Nag","snmd-tcl-NagIf","snmd-tcl-NagIfBw"]};var i,r,n=0;for(r=0;r<e.topics.length;r++){var l=new RegExp("Interface (.*Ethernet|POS)").exec(e.topics[r]);if(l&&l[1])switch(l[1]){case"TenGigabitEthernet":i=2e9,n=i>n?i:n;break;case"GigabitEthernet":i=2e8,n=i>n?i:n;break;case"POS":i=31e6,n=i>n?i:n;break;case"FastEthernet":i=2e7,n=i>n?i:n;break;case"Ethernet":i=2e6,n=i>n?i:n;break;default:i=this.opts.axis[0].max,n=i>n?i:n}else n+=this.opts.axis[0].max}for(this.opts.axis[0].max=n,"undefined"!=typeof e.max&&(i=parseFloat(e.max),isNaN(i)||(this.opts.axis[0].max=i)),this.lines=[{name:"in",axis:0,unit:"b"},{name:"out",axis:0,unit:"b"}],this.desc=e,this.last={},r=0;r<e.topics.length;r++){this.last[e.topics[r]]=[];var c;for(c=0;c<this.lines.length;c++)this.last[e.topics[r]][c]={}}this.chart=new(t.srLookupImpl("Chart"))(s,a,this.opts,this.lines)};return s.prototype.handleUpdate=function(t,s){var a;try{a=JSON.parse(s)}catch(t){return void console.error("JSON error in performance data: "+t.message)}var e;for(e=0;e<this.lines.length;e++){this.last[t][e].val=0,this.last[t][e].state=0;try{this.last[t][e].val=8*a.perf_data[this.lines[e].name].val}catch(t){}try{this.last[t][e].state=a.state}catch(t){console.warn("Error to process state data: "+t.message)}}var i=[],r=0;for(e=0;e<this.lines.length;e++){i[e]=0;var n;for(n in this.last){var l=parseFloat(this.last[n][e].val);isNaN(l)&&(l=0),i[e]+=l,r=Math.max(r,this.last[n][e].state)}}this.chart.update(a._timestamp,i,r)},t.srRegisterWidget("NagiosIfBw",s),s});
//# sourceMappingURL=dist/NagiosIfBw.min.map