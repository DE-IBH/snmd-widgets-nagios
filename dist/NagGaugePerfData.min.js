define(["snmd-core/SVGWidget"],function(t){"use strict";var s=function(s,e,a){this.opts={axis:[{max:50,scale:"linear"}],stroke:"yellow",fill:"white",desc:a,dpi:.2,cls:t.srClassOpts(a,"Gauge")},this.desc=a,"undefined"==typeof this.desc.uom?this.opts.uom="":this.opts.uom=this.desc.uom,"undefined"==typeof a.keys?this.opts.keys=[a.key]:this.opts.keys=a.keys,"undefined"!=typeof a.factor?this.opts.factor=a.factor:this.opts.factor=1,this.last={};var o;for(o=0;o<a.topics.length;o++)this.last[a.topics[o]]=[];this.max="undefined"==typeof a.max?100:a.max,this.chart=new(t.srLookupImpl("Gauge"))(s,e,this.opts)};return s.prototype.handleUpdate=function(t,s){var e;try{e=JSON.parse(s)}catch(t){return void console.error("JSON error in performance data: "+t.message)}this.last[t].val=0,this.last[t].state=0;try{var a;for(a=0;a<this.opts.keys.length;a++)"undefined"!=typeof e.perf_data[this.opts.keys[a]]&&(this.last[t].val+=parseFloat(e.perf_data[this.opts.keys[a]].val));this.last[t].state=e.state}catch(t){console.warn("Error to process performance data: "+t.message)}var o,i=0,r=0;for(o in this.last){var h=parseFloat(this.last[o].val);isNaN(h)&&(h=0),i+=h,r=Math.max(r,this.last[o].state)}this.chart.update(i*this.opts.factor,this.max,r)},t.srRegisterWidget("NagGaugePerfData",s),s});
//# sourceMappingURL=dist/NagGaugePerfData.min.map