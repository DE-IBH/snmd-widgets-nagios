define(["snmd-core/js/SVGWidget","snmd-core/js/SVGImpl/Chart","js-logger"],function(t,s,e){"use strict";var i=function(e,i,r){this.opts={axis:[{max:100,scale:"linear"}],desc:r,dpi:.2,cls:t.srClassOpts(r,"Chart")},this.lines=[{name:"util",axis:0,unit:"%",style:{stroke:"Orchid",strokeLineCap:"round",strokeLineJoin:"round",strokeWidth:1.5,fill:"Orchid"}}],this.desc=r,this.last=[];var a;for(a=0;a<r.topics.length;a++)this.last[r.topics[a]]=[0,0];this.chart=new s(e,i,this.opts,this.lines)};return i.prototype.handleUpdate=function(t,s){var i;try{i=JSON.parse(s)}catch(r){return void e.debug("[Nagios/Chart-CpuUtil] JSON error in performance data: "+r.message)}var a;for(a=0;a<this.lines.length;a++){this.last[t][a]=0;try{this.last[t][a]=i.perf_data[this.lines[a].name].val}catch(n){e.debug("[Nagios/Chart-CpuUtil] Error processing performance data of "+t+"["+a+"]: "+n.message)}}var o=[];for(a=0;a<this.lines.length;a++){o[a]=0;var h,l=0;for(h in this.last)o[a]+=parseFloat(this.last[h][a]),l+=1;o[a]=o[a]/l}this.chart.update(i._timestamp,o)},i});
//# sourceMappingURL=dist/js/Chart-CpuUtil.map