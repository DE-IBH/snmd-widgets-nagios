define(["snmd-core/js/SVGWidget","snmd-core/js/SVGImpl/Chart","snmd-widgets-nagios/js/Utils","js-logger"],function(s,t,a,i){"use strict";var e=function(i,e,l){this.opts={axis:[{max:100,scale:"linear"}],desc:l,dpi:.2,cls:s.srClassOpts(l,"Chart"),lcls:["snmd-lcl-Nag","snmd-lcl-NagWlc","snmd-lcl-NagWlcClients"],mcls:["snmd-mcl-Nag","snmd-mcl-NagWlc","snmd-mcl-NagWlcClients"],tcls:["snmd-tcl-Nag","snmd-tcl-NagWlc","snmd-tcl-NagWlcClients"]},this.lines=[{name:"connections",axis:0,unit:" STA"}],this.desc=l,this.last=[];var n;for(n=0;n<l.topics.length;n++){this.last[l.topics[n]]=[];var r;for(r=0;r<this.lines.length;r++)this.last[l.topics[n]][r]=[]}this.chart=new t(i,e,this.opts,this.lines,a.qTipConfig("WLC Clients",this))};return e.prototype.handleUpdate=function(s,t){var e;try{e=JSON.parse(t)}catch(l){return void i.debug("[Nagios/Chart-WlcClients] JSON error in performance data: "+l.message)}a.qTipUpdate(e,this);var n,r;for(n=0;n<this.lines.length;n++){this.last[s][n].val=0,this.last[s][n].state=0;try{r=parseInt(e.perf_data[this.lines[n].name].val,10),isNaN(r)||(this.last[s][n].val=r)}catch(c){i.debug("[Nagios/Chart-WlcClients] Error processing performance data of "+s+"["+n+"]: "+c.message)}try{this.last[s][n].state=e.state}catch(h){i.debug("[Nagios/Chart-WlcClients] Error processing state data: "+h.message)}}var o=[],d=0;for(n=0;n<this.lines.length;n++){o[n]=0;var g;for(g in this.last)o[n]+=this.last[g][n].val,d=Math.max(d,this.last[g][n].state)}this.chart.update(e._timestamp,o,d)},e});
//# sourceMappingURL=dist/js/Chart-WlcClients.map