define(["snmd-core/js/SVGWidget","snmd-core/js/SVGImpl/Chart","js-logger"],function(s,t,a){"use strict";var i=function(a,i,e){this.opts={axis:[{max:.01,scale:"linear"}],fill:"white",desc:e,dpi:.2,cls:s.srClassOpts(e,"Chart"),lcls:["snmd-lcl-Nag","snmd-lcl-NagDisk","snmd-lcl-NagDiskWait"],mcls:["snmd-mcl-Nag","snmd-mcl-NagDisk","snmd-mcl-NagDiskWait"],tcls:["snmd-tcl-Nag","snmd-tcl-NagDisk","snmd-tcl-NagDiskWait"]},this.lines=[{name:"disk_average_read_wait",axis:0,unit:"s"},{name:"disk_average_write_wait",axis:0,unit:"s"}],this.desc=e,this.last=[];var l;for(l=0;l<e.topics.length;l++){this.last[e.topics[l]]=[];var r;for(r=0;r<this.lines.length;r++)this.last[e.topics[l]][r]=[]}this.chart=new t(a,i,this.opts,this.lines)};return i.prototype.handleUpdate=function(s,t){var i;try{i=JSON.parse(t)}catch(e){return void a.debug("[Nagios/Chart-DiskWait] JSON error in performance data: "+e.message)}var l;for(l=0;l<this.lines.length;l++){this.last[s][l].val=0,this.last[s][l].state=0;try{this.last[s][l].val=i.perf_data[this.lines[l].name].val,this.last[s][l].state=i.state}catch(r){a.debug("[Nagios/Chart-DiskWait] Error processing performance data of "+this.lines[l].name+": "+r.message)}}var n=[],h=0;for(l=0;l<this.lines.length;l++){n[l]=0;var c;for(c in this.last){var d=parseFloat(this.last[c][l].val);isNaN(d)&&(d=0),n[l]+=d,h=Math.max(h,this.last[c][l].state)}}this.chart.update(i._timestamp,n,h)},i});
//# sourceMappingURL=dist/js/Chart-DiskWait.map