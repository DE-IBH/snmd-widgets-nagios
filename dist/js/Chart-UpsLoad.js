define(["snmd-core/js/SVGWidget","snmd-core/js/SVGImpl/Chart","snmd-widgets-nagios/js/Utils","js-logger"],function(s,t,i,e){"use strict";var a=function(e,a,r){var n;for(this.opts={axis:[{max:50,scale:"linear"}],desc:r,dpi:.2,cls:s.srClassOpts(r,"Chart")},this.lines=[{name:"out_load",axis:0,unit:"%",style:{stroke:"Orchid",strokeLineCap:"round",strokeLineJoin:"round",strokeWidth:1.5,fill:"Orchid"}}],this.desc=r,this.last=[],n=0;n<r.topics.length;n+=1)this.last[r.topics[n]]=[0];this.chart=new t(e,a,this.opts,this.lines,i.qTipConfig(this,"UPS Load",this.lines.map(function(s){return s.name})))};return a.prototype.handleUpdate=function(s,t){var a,r,n,o=[];try{n=JSON.parse(t)}catch(h){return void e.debug("[Nagios/Chart-UpsLoad] JSON error in performance data: "+h.message)}for(i.qTipUpdate(n,this),r=0;r<this.lines.length;r+=1){this.last[s][r]=0;try{this.last[s][r]=n.perf_data[this.lines[r].name].val}catch(l){e.debug("[Nagios/Chart-UpsLoad] Error processing performance data of ["+s+"].line["+r+"]: "+l.message)}}for(r=0;r<this.lines.length;r+=1){o[r]=0,a=0;var d;for(d in this.last)o[r]+=parseFloat(this.last[d][r]),a+=1;o[r]=o[r]/a}this.chart.update(n._timestamp,o)},a});
//# sourceMappingURL=dist/js/Chart-UpsLoad.map