define(["snmd-core/js/SVGWidget","snmd-core/js/SVGImpl/Text","snmd-widgets-nagios/js/Utils","js-logger"],function(t,e,s,a){"use strict";var p=function(a,p,i){if(this.opts={desc:i,cls:t.srClassOpts(i,"Text")},this.desc=i,this.opts.key=i.key,this.opts.map="undefined"!=typeof i.map?i.map:[],1!==i.topics.length)throw"NagTextPerfMap supports a single topic, only!";this.chart=new e(a,p,this.opts,s.qTipConfig(this,"Performance Data",[this.opts.key]))};return p.prototype.handleUpdate=function(t,e){var p;try{p=JSON.parse(e)}catch(i){return void a.debug("[Nagios/Text-PerfMap] JSON error in performance data: "+i.message)}s.qTipUpdate(p,this);try{var r="?";"undefined"!=typeof p.perf_data[this.opts.key]&&(r=p.perf_data[this.opts.key].val,r in this.opts.map?r=this.opts.map[r]:(r="?",a.debug("[Nagios/Text-PerfMap] No mapping available ["+t+"]: "+this.opts.key+" => '"+p.perf_data[this.opts.key].val+"'"))),this.chart.update(r,p.state,!1)}catch(o){a.debug("[Nagios/Text-PerfMap] Error processing performance data ["+t+"]: "+o.message)}},p});
//# sourceMappingURL=dist/js/Text-PerfMap.map