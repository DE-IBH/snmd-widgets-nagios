define(["snmd-core/SVGWidget","snmd-core/SVGImpl/Chart"],function(t,s){"use strict";var e=function(e,r,i){var a;for(this.opts={axis:[{max:50,scale:"linear"}],desc:i,dpi:.2,cls:t.srClassOpts(i,"Chart")},this.lines=[{name:"out_load",axis:0,unit:"%",style:{stroke:"Orchid",strokeLineCap:"round",strokeLineJoin:"round",strokeWidth:1.5,fill:"Orchid"}}],this.desc=i,this.last=[],a=0;a<i.topics.length;a+=1)this.last[i.topics[a]]=[0];this.chart=new s(e,r,this.opts,this.lines)};return e.prototype.handleUpdate=function(t,s){var e,r,i,a=[];try{i=JSON.parse(s)}catch(t){return void console.error("JSON error in performance data: "+t.message)}for(r=0;r<this.lines.length;r+=1){this.last[t][r]=0;try{this.last[t][r]=i.perf_data[this.lines[r].name].val}catch(s){console.warn("Error to process performance data of ["+t+"].line["+r+"]: "+s.message)}}for(r=0;r<this.lines.length;r+=1){a[r]=0,e=0;var n;for(n in this.last)a[r]+=parseFloat(this.last[n][r]),e+=1;a[r]=a[r]/e}this.chart.update(i._timestamp,a)},e});
//# sourceMappingURL=dist/Chart-UpsLoad.map