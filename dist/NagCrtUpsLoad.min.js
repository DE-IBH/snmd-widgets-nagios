define(["snmd-core/SVGWidget"],function(t){"use strict";var s=function(s,e,r){var i;for(this.opts={axis:[{max:50,scale:"linear"}],desc:r,dpi:.2,cls:t.srClassOpts(r,"Chart")},this.lines=[{name:"out_load",axis:0,unit:"%",style:{stroke:"Orchid",strokeLineCap:"round",strokeLineJoin:"round",strokeWidth:1.5,fill:"Orchid"}}],this.desc=r,this.last={},i=0;i<r.topics.length;i+=1)this.last[r.topics[i]]=[0];this.chart=new(t.srLookupImpl("Chart"))(s,e,this.opts,this.lines)};return s.prototype.handleUpdate=function(t,s){var e,r,i,a=[];try{i=JSON.parse(s)}catch(t){return void console.error("JSON error in performance data: "+t.message)}for(r=0;r<this.lines.length;r+=1){this.last[t][r]=0;try{this.last[t][r]=i.perf_data[this.lines[r].name].val}catch(s){console.warn("Error to process performance data of ["+t+"].line["+r+"]: "+s.message)}}for(r=0;r<this.lines.length;r+=1){a[r]=0,e=0;var o;for(o in this.last)a[r]+=parseFloat(this.last[o][r]),e+=1;a[r]=a[r]/e}this.chart.update(i._timestamp,a)},t.srRegisterWidget("NagCrtUpsLoad",s),s});
//# sourceMappingURL=dist/NagCrtUpsLoad.min.map