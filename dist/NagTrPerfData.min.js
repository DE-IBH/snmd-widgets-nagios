define(["snmd-core/SVGWidget"],function(t){"use strict";var s=function(s,a,o){this.opts={desc:o,cls:t.srClassOpts(o,"Transform")},this.desc=o,"undefined"==typeof this.desc.transform?this.opts.transform="scale(%)":this.opts.transform=this.desc.transform,"undefined"==typeof o.keys?this.opts.keys=[o.key]:this.opts.keys=o.keys,"undefined"==typeof o.factors?this.opts.factors=[]:this.opts.factors=o.factors,"undefined"!=typeof o.factor?(this.opts.factor=parseFloat(o.factor),isNaN(this.opts.factor)&&(this.opts.factor=1)):this.opts.factor=1,"undefined"!=typeof o.max?(this.opts.max=parseFloat(o.max),isNaN(this.opts.max)&&(this.opts.max=100)):this.opts.max=100,this.last={},this.factors={};var r;for(r=0;r<o.topics.length;r++)this.last[o.topics[r]]=[],"undefined"==typeof this.opts.factors[r]?this.factors[o.topics[r]]=this.opts.factor:this.factors[o.topics[r]]=this.opts.factors[r];this.chart=new(t.srLookupImpl("Transform"))(s,a,this.opts)};return s.prototype.handleUpdate=function(t,s){var a;try{a=JSON.parse(s)}catch(t){return void console.error("JSON error in performance data: "+t.message)}this.last[t].val=0;try{var o;for(o=0;o<this.opts.keys.length;o++)"undefined"!=typeof a.perf_data[this.opts.keys[o]]&&(this.last[t].val+=parseFloat(a.perf_data[this.opts.keys[o]].val)*this.factors[t])}catch(s){console.err("Error to process performance data ["+t+"]: "+s.message)}try{this.last[t].state=a.state}catch(s){console.err("Error to process state data ["+t+"]: "+s.message)}var r,e=0,i=0;for(r in this.last){var p=parseFloat(this.last[r].val);isNaN(p)&&(p=0),e+=p,i=Math.max(i,this.last[r].state)}this.chart.update(e,i)},t.srRegisterWidget("NagTrPerfData",s),s});
//# sourceMappingURL=dist/NagTrPerfData.min.map