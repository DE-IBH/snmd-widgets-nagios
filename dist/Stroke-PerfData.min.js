define(["snmd-core/SVGWidget","snmd-core/SVGImpl/StrokeWidth"],function(t,s){"use strict";var a=function(a,e,o){this.opts={desc:o,cls:t.srClassOpts(o,"StrokeWidth")},this.desc=o,"undefined"==typeof this.desc.width?this.opts.width=[1,32]:this.opts.width=this.desc.width,"undefined"==typeof o.keys?this.opts.keys=[o.key]:this.opts.keys=o.keys,"undefined"==typeof o.factors?this.opts.factors=[]:this.opts.factors=o.factors,"undefined"!=typeof o.factor?(this.opts.factor=parseFloat(o.factor),isNaN(this.opts.factor)&&(this.opts.factor=1)):this.opts.factor=1,"undefined"!=typeof o.max?(this.opts.max=parseFloat(o.max),isNaN(this.opts.max)&&(this.opts.max=100)):this.opts.max=100,"undefined"!=typeof o.scale?this.opts.scale=o.scale:this.opts.scale="linear",this.opts.abs=!1,"undefined"!=typeof o.abs&&o.abs&&(this.opts.abs=!0),this.last=[],this.factors=[];var i;for(i=0;i<o.topics.length;i++)this.last[o.topics[i]]=[],"undefined"==typeof this.opts.factors[i]?this.factors[o.topics[i]]=this.opts.factor:this.factors[o.topics[i]]=this.opts.factors[i];this.chart=new s(a,e,this.opts)};return a.prototype.handleUpdate=function(t,s){var a;try{a=JSON.parse(s)}catch(t){return void console.error("JSON error in performance data: "+t.message)}this.last[t].val=0;try{var e;for(e=0;e<this.opts.keys.length;e++)"undefined"!=typeof a.perf_data[this.opts.keys[e]]&&(this.last[t].val+=parseFloat(a.perf_data[this.opts.keys[e]].val)*this.factors[t])}catch(s){console.err("Error to process performance data ["+t+"]: "+s.message)}try{this.last[t].state=a.state}catch(s){console.err("Error to process state data ["+t+"]: "+s.message)}var o,i=0,r=0;for(o in this.last){var h=parseFloat(this.last[o].val);isNaN(h)&&(h=0),i+=h,r=Math.max(r,this.last[o].state)}this.chart.update(i,r)},a});
//# sourceMappingURL=dist/Stroke-PerfData.min.map