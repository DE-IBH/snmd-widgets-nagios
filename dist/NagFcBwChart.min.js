define(["snmd-core/SVGWidget"],function(s){"use strict";var t=function(t,a,i){this.opts={axis:[{max:1e8,scale:"linear"}],desc:i,dpi:.2,cls:s.srClassOpts(i,"Chart"),lcls:["snmd-lcl-Nag","snmd-lcl-NagFc","snmd-lcl-NagFcBw"],mcls:["snmd-mcl-Nag","snmd-mcl-NagFc","snmd-mcl-NagFcBw"],tcls:["snmd-tcl-Nag","snmd-tcl-NagFc","snmd-tcl-NagFcBw"]};var e,r=0;for(e=0;e<i.topics.length;e++)r+=this.opts.axis[0].max;if(this.opts.axis[0].max=r,"undefined"!=typeof i.max){var l=parseFloat(i.max);isNaN(l)||(this.opts.axis[0].max=l)}for(this.lines=[{name:"in",axis:0,unit:"B"},{name:"out",axis:0,unit:"B"}],this.desc=i,this.last={},e=0;e<i.topics.length;e++){this.last[i.topics[e]]=[];var n;for(n=0;n<this.lines.length;n++)this.last[i.topics[e]][n]={}}this.chart=new(s.srLookupImpl("Chart"))(t,a,this.opts,this.lines)};return t.prototype.handleUpdate=function(s,t){var a;try{a=JSON.parse(t)}catch(s){return void console.error("JSON error in performance data: "+s.message)}var i;for(i=0;i<this.lines.length;i++){this.last[s][i].val=0,this.last[s][i].state=0;try{this.last[s][i].val=a.perf_data[this.lines[i].name].val,this.last[s][i].state=a.state}catch(t){console.warn("Error to process performance data of ["+s+"].line["+i+"]: "+t.message)}}var e=[],r=0;for(i=0;i<this.lines.length;i++){e[i]=0;var l;for(l in this.last){var n=parseFloat(this.last[l][i].val);isNaN(n)&&(n=0),e[i]+=n,r=Math.max(r,this.last[l][i].state)}}this.chart.update(a._timestamp,e,r)},s.srRegisterWidget("NagFcBwChart",t),t});
//# sourceMappingURL=dist/NagFcBwChart.min.map